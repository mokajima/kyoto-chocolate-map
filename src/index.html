<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kyoto Chocolate Map</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Sofia" rel="stylesheet">
  <link href="App.css" rel="stylesheet">
</head>
<body>
  <main>
    <div class="contents is-active">
      <header class="header">
        <h1 class="header__title">Kyoto Chocolate Map</h1>
        <button class="header__btn">
          <span>Hide Navigation</span>
        </button>
      </header>
      <div id="map" class="map"></div>
    </div>
    <div class="sidebar">
      <h2 class="sidebar__title">Locations</h2>
      <input class="filter-locations" type="text" name="location" placeholder="Filter locations" value="">
      <ul class="locations-list">
        <li class="locations-list__item">Location A</li>
        <li class="locations-list__item">Location B</li>
        <li class="locations-list__item">Location C</li>
        <li class="locations-list__item">Location D</li>
        <li class="locations-list__item">Location E</li>
      </ul>
    </div>
  </main>
  <script>
    var map;

    // Create a new blank array for all the listing markers.
    var markers = [];

    var shops = [
      {
        name: 'ASSEMBLAGES KAKIMOTO',
        position: {lat: 35.0161443, lng: 135.7645379},
        venueId: '571b2376498ee5843d97343a'
      },
      {
        name: 'JEAN-PAUL HÉVIN JAPON - Kyoto',
        position: {lat: 35.0085587, lng: 135.7629634},
        venueID: '5811ad8338fafc8715ce5530'
      },
      {
        name: 'Raw Cafe by cacao∞magic',
        position: {lat: 35.0267204, lng: 135.7923553},
        venueID: '51185c46e4b06e75e9c7b381'
      },
      {
        name: 'MARIEBELLE Kyoto',
        position: {lat: 35.0083122, lng: 135.7616981},
        venueID: '4f924337e4b0e2dc95c27126'
      },
      {
        name: 'Chocolat BEL AMER',
        position: {lat: 35.0083209, lng: 135.7616981},
        venueID: '55f7d3d1498e10faf80cc1b6'
      }
    ];

    function initMap() {
      var settings = {
        center: {lat: 35.01152, lng: 135.767766},
        zoom: 13
      };
      map = new google.maps.Map(document.getElementById('map'), settings);

      // Style the markers a bit. This will be our listing marker icon.
      var defaultIcon = makeMarkerIcon('6dc5c3');

      // Create a "highlighted location" marker color for when the user
      // mouses over the marker.
      var highlightedIcon = makeMarkerIcon('f5efde');

      for (var i = 0, len = shops.length; i < len; i++) {
        var marker = new google.maps.Marker({
          position: shops[i].position,
          map: map,
          title: shops[i].name,
          icon: defaultIcon
        });
        markers.push(marker);

        // Two event listeners - one for mouseover, one for mouseout,
        // to change the colors back and forth.
        marker.addListener('mouseover', function() {
          this.setIcon(highlightedIcon);
        });
        marker.addListener('mouseout', function() {
          this.setIcon(defaultIcon);
        });
      }
    }

    // This function takes in a COLOR, and then creates a new marker
    // icon of that color. The icon will be 21 px wide by 34 high, have an origin
    // of 0, 0 and be anchored at 10, 34).
    function makeMarkerIcon(markerColor) {
      var markerImage = new google.maps.MarkerImage(
        'http://chart.googleapis.com/chart?chst=d_map_spin&chld=1.15|0|'+ markerColor + '|40|_|%E2%80%A2',
        new google.maps.Size(21, 34),
        new google.maps.Point(0, 0),
        new google.maps.Point(10, 34),
        new google.maps.Size(21,34));
      return markerImage;
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQjsHZq9VBKSPlfbOeTBoknSDxgqZI_z8&callback=initMap" async defer></script>
</body>
</html>
